
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Chill_Computer.ViewModels
@model List<Chill_Computer.ViewModels.CartItemViewModel>
@{
    var cart = Context.Session.GetObject<List<CartItemViewModel>>("Cart") ?? new List<CartItemViewModel>();
}

<div class="modal-cart">
    @if(cart.Count() == 0){
        <div class="modal-cart-title">
            <h5>Giỏ hàng (0)</h5>
        </div>
        <div class="modal-cart-empty">
            <div class="cart-placeholder">
                <svg width="100" height="100" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.1086 5.83268C14.1351 5.77362 14.1475 5.70926 14.1449 5.64462H14.1667C14.0735 3.42094 12.2374 1.66602 10.0041 1.66602C7.77083 1.66602 5.93477 3.42094 5.84157 5.64462C5.83059 5.70683 5.83059 5.77047 5.84157 5.83268H5.77643C4.70851 5.83268 3.56695 6.53765 3.23553 8.43274L2.58742 13.595C2.05715 17.3851 4.00885 18.3327 6.55711 18.3327H13.4654C16.0063 18.3327 17.8991 16.9606 17.4277 13.595L16.787 8.43274C16.3966 6.59072 15.2919 5.83268 14.2387 5.83268H14.1086ZM12.911 5.83268C12.8878 5.77263 12.8755 5.70896 12.8747 5.64462C12.8747 4.0467 11.5749 2.75134 9.97146 2.75134C8.36803 2.75134 7.0682 4.0467 7.0682 5.64462C7.07919 5.70683 7.07919 5.77047 7.0682 5.83268H12.911ZM7.58083 10.1232C7.17408 10.1232 6.84434 9.78378 6.84434 9.36513C6.84434 8.94648 7.17408 8.60709 7.58083 8.60709C7.98758 8.60709 8.31732 8.94648 8.31732 9.36513C8.31732 9.78378 7.98758 10.1232 7.58083 10.1232ZM11.6684 9.36513C11.6684 9.78378 11.9981 10.1232 12.4048 10.1232C12.8116 10.1232 13.1413 9.78378 13.1413 9.36513C13.1413 8.94648 12.8116 8.60709 12.4048 8.60709C11.9981 8.60709 11.6684 8.94648 11.6684 9.36513Z" fill="#605cff" />
                </svg>
                <h5>Giỏ hàng trống</h5>
                <p style="text-align: center;">Không có sản phẩm nào trong giỏ hàng của bạn</p>
            </div>
        </div>
    }
    else
    {
        <div class="modal-cart-title">
            <h5>Giỏ hàng (@cart.Count())</h5>
        </div>
        <div class="modal-cart-item">
            <div class="cart-item">
                @foreach (var item in cart)
                {
                    <div class="item">
                        <img src="@item.ImageUrl" alt="" width="72px" height="72px">
                        <div>
                            <h6>@item.ProductName</h6>
                            <span style="color: gray; font-size: 14px;">@item.Version</span>
                            <h6 style="color: #EC1250;">@item.FormattedPrice đ</h6>
                        </div>
                    </div>
                }
            </div>

            <div class="cart-order-btn">
                <div class="cart-total-price">
                    <span style="color: gray; font-size: 14px;">Tổng cộng</span>
                    @cart.Sum(item => item.Price * item.Quantity).ToString("N0") đ
                </div>
                <button class="order-btn">
                    <span>Đặt hàng</span>
                </button>
            </div>
        </div>
    }
</div>